execute as @a[scores={clickStick=1,chokeCooldown=1..},nbt={SelectedItem:{tag:{Tags:["choke"]}}}] run tellraw @s ["",{"text":"Cannot use item!\n","color":"red"},{"score":{"name":"*","objective":"chokeCooldown"},"color":"red"},{"text":" of 750 ticks (1/20ths of a second) remaining.","color":"red"}]
execute as @a[scores={clickStick=1,chokeCooldown=1..},nbt={SelectedItem:{tag:{Tags:["choke"]}}}] run scoreboard players set @s clickStick 0
execute as @a[scores={clickStick=1},nbt={SelectedItem:{tag:{Tags:["choke"]}}}] at @s unless block ~ ~-1 ~ air anchored eyes facing entity @p[team=REB,distance=..6] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 run scoreboard players set @s chokeCooldown 1
execute as @a[scores={clickStick=1},nbt={SelectedItem:{tag:{Tags:["choke"]}}}] at @s unless block ~ ~-1 ~ air anchored eyes facing entity @p[team=REB,distance=..6] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 run scoreboard players set @s chokeDuration 1
execute as @a[scores={clickStick=1},nbt={SelectedItem:{tag:{Tags:["choke"]}}}] at @s unless block ~ ~-1 ~ air anchored eyes facing entity @p[team=REB,distance=..6] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 run effect give @s slowness 3 0 true
execute as @a[scores={clickStick=1},nbt={SelectedItem:{tag:{Tags:["choke"]}}}] at @s unless block ~ ~-1 ~ air anchored eyes facing entity @p[team=REB,distance=..6] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 run effect give @s resistance 3 0 true
execute as @a[scores={clickStick=1,chokeDuration=1},nbt={SelectedItem:{tag:{Tags:["choke"]}}}] at @s unless block ~ ~-1 ~ air anchored eyes facing entity @p[team=REB,distance=..6] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 run effect give @p[team=REB,distance=..10] instant_damage 0 0 true
execute as @a[scores={clickStick=1,chokeDuration=21},nbt={SelectedItem:{tag:{Tags:["choke"]}}}] at @s unless block ~ ~-1 ~ air anchored eyes facing entity @p[team=REB,distance=..6] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 run effect give @p[team=REB,distance=..10] instant_damage 0 0 true
execute as @a[scores={clickStick=1,chokeDuration=41},nbt={SelectedItem:{tag:{Tags:["choke"]}}}] at @s unless block ~ ~-1 ~ air anchored eyes facing entity @p[team=REB,distance=..6] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 run effect give @p[team=REB,distance=..10] instant_damage 0 0 true
execute as @a[scores={clickStick=1},nbt={SelectedItem:{tag:{Tags:["choke"]}}}] at @s unless block ~ ~-1 ~ air anchored eyes facing entity @p[team=REB,distance=..6] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 run scoreboard players set @p[team=REB,distance=..10] abilitiesBlocked 60
execute as @a[scores={clickStick=1},nbt={SelectedItem:{tag:{Tags:["choke"]}}}] at @s unless block ~ ~-1 ~ air anchored eyes facing entity @p[team=REB,distance=..6] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 run tag @p[team=REB,distance=..10] add choked
execute as @a[scores={clickStick=1},nbt={SelectedItem:{tag:{Tags:["choke"]}}}] at @s unless block ~ ~-1 ~ air anchored eyes facing entity @p[team=REB,distance=..6] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 run scoreboard players set @s clickStick 0
execute as @a[scores={chokeDuration=1..}] at @s rotated ~ 0 if block ^ ^1 ^3 air if block ^ ^1 ^4 air run tp @p[team=REB,distance=..6] ^ ^1 ^3 facing ^ ^1 ^
execute as @a[scores={chokeDuration=1..}] at @s rotated ~ 0 unless block ^ ^1 ^3 air run tp @p[team=REB,distance=..6] ^ ^1 ^2 facing ^ ^1 ^
execute as @a[scores={chokeDuration=1..}] at @s rotated ~ 0 unless block ^ ^1 ^2 air run tp @p[team=REB,distance=..6] ^ ^1 ^1 facing ^ ^1 ^
execute as @a[scores={chokeCooldown=1..}] run scoreboard players add @s chokeCooldown 1
execute as @a[scores={chokeDuration=1..}] run scoreboard players add @s chokeDuration 1
execute as @a[scores={chokeDuration=60..}] at @s run tag @p[team=REB,distance=..10,tag=choked] remove choked
execute as @a[scores={chokeDuration=60..}] run scoreboard players set @s chokeDuration 0
execute as @a[scores={chokeCooldown=750..}] run scoreboard players set @s chokeCooldown 0