execute if entity @s[scores={defeated=2}] if score @s respawnTick >= @s respawnTime unless entity @a[scores={REPhero=1}] run clear @s
execute if entity @s[scores={defeated=2}] if score @s respawnTick >= @s respawnTime unless entity @a[scores={REPhero=1}] run item replace entity @s armor.head with minecraft:player_head[item_name="Anakin Skywalker's Head",unbreakable={},profile={id:[I;-1582649935,-1708046690,-1453924638,-704354099],properties:[{name:"textures",value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZDZkZDFlNzE2MTI0YzRmNGM0ZWIzMDgzNjViZjNhNDhlNTI5ODFiOTVkZWU0NDVhYjZlNTc4NGI3ZDRmOWZjIn19fQ=="}]},enchantments={"minecraft:binding_curse":1},tooltip_display={hide_tooltip:true},custom_data={anakin:true}] 1
execute if entity @s[scores={defeated=2}] if score @s respawnTick >= @s respawnTime unless entity @a[scores={REPhero=1}] run item replace entity @s armor.chest with minecraft:leather_chestplate[item_name={"color":"yellow","italic":false,"text":"Clothes"},dyed_color=1908001,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2}] if score @s respawnTick >= @s respawnTime unless entity @a[scores={REPhero=1}] run item replace entity @s armor.legs with minecraft:leather_leggings[item_name={"color":"yellow","italic":false,"text":"Clothes"},dyed_color=1908001,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2}] if score @s respawnTick >= @s respawnTime unless entity @a[scores={REPhero=1}] run item replace entity @s armor.feet with minecraft:leather_boots[item_name={"color":"yellow","italic":false,"text":"Clothes"},dyed_color=1908001,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1,"minecraft:feather_falling":255},unbreakable={}] 1
execute if entity @s[scores={defeated=2}] if score @s respawnTick >= @s respawnTime unless entity @a[scores={REPhero=1}] run item replace entity @s weapon.offhand with minecraft:shield[item_name={"color":"red","italic":false,"text":"Saber Block"},tooltip_display={hidden_components:["enchantments","unbreakable"]},enchantments={"minecraft:feather_falling":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2}] if score @s respawnTick >= @s respawnTime unless entity @a[scores={REPhero=1}] run give @s minecraft:diamond_sword[item_name={"color":"red","italic":false,"text":"Anakin's Lightsaber"},tooltip_display={hidden_components:["unbreakable","attribute_modifiers"]},unbreakable={}] 1
execute if entity @s[scores={defeated=2}] if score @s respawnTick >= @s respawnTime unless entity @a[scores={REPhero=1}] run give @s minecraft:diamond_axe[item_name={"color":"red","italic":false,"text":"Passionate Strike"},tooltip_display={hidden_components:["enchantments","unbreakable"]},lore=[{"italic":false,"text":"Unleashes a heavy strike, dealing high damage and breaking saber blocks"}],unbreakable={},enchantments={"minecraft:efficiency":15},custom_data={pass:true}] 1
execute if entity @s[scores={defeated=2}] if score @s respawnTick >= @s respawnTime unless entity @a[scores={REPhero=1}] run give @s minecraft:carrot_on_a_stick[item_name={"color":"blue","italic":false,"text":"Pull Dominance"},tooltip_display={hidden_components:["unbreakable"]},lore=[{"italic":false,"text":"Pulls the enemy Anakin is looking at"},{"italic":false,"text":"Grounded",color:"blue"}],unbreakable={},custom_data={dominance:true}] 1
execute if entity @s[scores={defeated=2}] if score @s respawnTick >= @s respawnTime unless entity @a[scores={REPhero=1}] run give @s minecraft:carrot_on_a_stick[item_name={"color":"blue","italic":false,"text":"Retribution"},tooltip_display={hidden_components:["unbreakable"]},lore=[{"italic":false,"text":"Chokes all enemies around Anakin"},{"italic":false,"text":"Ability charges when Anakin or nearby allies are damaged"},{"italic":false,"text":"Grounded",color:"blue"}],unbreakable={},custom_data={retribution:true}] 1
execute if entity @s[scores={defeated=2}] if score @s respawnTick >= @s respawnTime unless entity @a[scores={REPhero=1}] run attribute @s minecraft:max_health base set 40
execute if entity @s[scores={defeated=2}] if score @s respawnTick >= @s respawnTime unless entity @a[scores={REPhero=1}] run effect give @s jump_boost infinite 2 true
execute if entity @s[scores={defeated=2}] if score @s respawnTick >= @s respawnTime unless entity @a[scores={REPhero=1}] run effect give @s speed infinite 0 true
execute unless entity @s[scores={defeated=2}] run tellraw @s {"text":"Nice try...\nYou can only spawn in as a new class if you have been defeated!","color":"red"}
execute if score @s respawnTick < @s respawnTime unless entity @s[scores={defeated=0}] run tellraw @s {"text":"Nice try...\nYou must wait until the respawn timer has finished counting down!","color":"red"}
execute if entity @s[scores={defeated=2}] if entity @a[scores={REPhero=1}] run tellraw @s {"text":"There's already a hero for your team on the battlefront.","color":"red"}
execute if entity @s[scores={defeated=2}] if entity @a[scores={REPhero=1}] run scoreboard players set @s showDelay 60
execute unless entity @a[scores={REPhero=1}] if score @s respawnTick >= @s respawnTime if score @s defeated matches 2 run scoreboard players set @s REPhero 1
execute unless entity @a[scores={REPhero=1},distance=1..] if entity @s[scores={defeated=2}] if score @s respawnTick >= @s respawnTime run function battlefront:classes/spawnplayer