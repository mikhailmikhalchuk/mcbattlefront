execute as @a[scores={clickStick=1,thrustCooldown=1..}] if items entity @s weapon *[custom_data~{thrust:true}] run tellraw @s ["",{"text":"Cannot use item!\n","color":"red"},{"score":{"name":"*","objective":"thrustCooldown"},"color":"red"},{"text":" of 750 ticks (1/20ths of a second) remaining.","color":"red"}]
execute as @a[scores={clickStick=1,thrustCooldown=1..}] if items entity @s weapon *[custom_data~{thrust:true}] run scoreboard players set @s clickStick 0
execute as @a[scores={clickStick=1,abilitiesBlocked=2..}] if items entity @s weapon *[custom_data~{thrust:true}] run tellraw @s {"text":"Cannot use item! Abilities are restricted.","color":"red"}
execute as @a[scores={clickStick=1,abilitiesBlocked=2..}] if items entity @s weapon *[custom_data~{thrust:true}] run scoreboard players set @s clickStick 0
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{thrust:true}] at @s anchored eyes facing entity @p[team=REP,distance=..10] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 unless block ~ ~-1 ~ air as @a[team=REP,distance=..10,limit=1] at @a[team=REP,distance=..10,limit=1] run tp @a[scores={CIShero=1},nbt={SelectedItem:{tag:{Tags:["thrust"]}}}] ^ ^1 ^1 facing entity @s
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{thrust:true}] at @s anchored eyes facing entity @p[team=REP,distance=..10] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 unless block ~ ~-1 ~ air run effect give @p[team=REP,distance=..10] instant_damage 1 0 true
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{thrust:true}] at @s anchored eyes facing entity @p[team=REP,distance=..10] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] unless block ~ ~-1 ~ air if entity @a[team=REP,distance=..10] run scoreboard players set @s thrustCooldown 1
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{thrust:true}] run scoreboard players set @s clickStick 0
execute as @a[scores={thrustCooldown=1..}] run scoreboard players add @s thrustCooldown 1
execute as @a[scores={thrustCooldown=750..}] run scoreboard players set @s thrustCooldown 0

#show cooldown on actionbar
execute as @a[scores={thrustCooldown=1..,show-actionbar-cooldown=1}] if items entity @s weapon *[custom_data~{thrust:true}] run title @s actionbar ["",{"score":{"name":"*","objective":"thrustCooldown"},"color":"red"},{"text":"/750","color":"red"}]
execute as @a[scores={thrustCooldown=0,show-actionbar-cooldown=1}] if items entity @s weapon *[custom_data~{thrust:true}] run title @s actionbar {"text":"Ready!","color":"green"}