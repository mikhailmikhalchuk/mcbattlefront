execute as @a[scores={clickStick=1,frezCooldown=1..}] if items entity @s weapon *[custom_data~{freeze:true}] run scoreboard players set @s clickStick 0
execute as @a[scores={clickStick=1,abilitiesBlocked=2..}] if items entity @s weapon *[custom_data~{freeze:true}] run tellraw @s {"text":"Cannot use item! Abilities are restricted.","color":"red"}
execute as @a[scores={clickStick=1,abilitiesBlocked=2..}] if items entity @s weapon *[custom_data~{freeze:true}] run scoreboard players set @s clickStick 0
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{freeze:true}] at @s anchored eyes facing entity @p[team=RES,distance=..10] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 run scoreboard players set @p[team=RES,distance=..10] abilitiesBlocked 60
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{freeze:true}] at @s anchored eyes facing entity @p[team=RES,distance=..10] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 run tag @p[team=RES,distance=..10] add kyloFrozen
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{freeze:true}] at @s anchored eyes facing entity @p[team=RES,distance=..10] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 at @p[team=RES,distance=..10] facing ~ ~ ~ rotated as @p[team=RES,distance=..10] run summon armor_stand ~ ~ ~ {Marker:true,NoBasePlate:true,Invisible:true,Invulnerable:true,Tags:["freezetp"]}
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{freeze:true}] at @s anchored eyes facing entity @p[team=RES,distance=..10] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 at @e[tag=freezetp] run tp @p[team=RES,distance=..10] ~ ~ ~
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{freeze:true}] at @s anchored eyes facing entity @p[team=RES,distance=..10] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 run tellraw @p[team=RES,distance=..10] {"text":"Hit by Kylo Ren's force freeze!","color":"red"}
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{freeze:true}] at @s anchored eyes facing entity @p[team=RES,distance=..10] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 run attribute @p[team=RES,distance=..10] minecraft:gravity base set 0
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{freeze:true}] at @s anchored eyes facing entity @p[team=RES,distance=..10] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 run attribute @p[team=RES,distance=..10] minecraft:entity_interaction_range base set 0
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{freeze:true}] at @s anchored eyes facing entity @p[team=RES,distance=..10] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] rotated ~ 0 run attribute @p[team=RES,distance=..10] minecraft:attack_speed base set 0
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{freeze:true}] at @s anchored eyes facing entity @p[team=RES,distance=..10] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] if entity @p[team=RES,distance=..10] run scoreboard players set @s frezCooldown 1
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{freeze:true}] at @s anchored eyes facing entity @p[team=RES,distance=..10] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] if entity @p[team=RES,distance=..10] run scoreboard players set @s freezeDuration 1
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{freeze:true}] at @s anchored eyes facing entity @p[team=RES,distance=..10] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] if entity @p[team=RES,distance=..10] run tellraw @s ["",{"text":"Afflicted ","color":"green"},{"selector":"@p[team=RES,distance=..10]"},{"text":" with force freeze.","color":"green"}]
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{freeze:true}] at @s anchored eyes facing entity @p[team=RES,distance=..10] eyes anchored feet positioned ^ ^ ^1 rotated as @s positioned ^ ^ ^-1 if entity @s[distance=..0.6] if entity @p[team=RES,distance=..10] run playsound minecraft:entity.player.hurt_freeze block @a ~ ~ ~
execute as @a[scores={clickStick=1}] if items entity @s weapon *[custom_data~{freeze:true}] run scoreboard players set @s clickStick 0
execute as @a[scores={frezCooldown=1..}] run scoreboard players add @s frezCooldown 1
execute as @a[scores={freezeDuration=1..}] at @e[tag=freezetp] run tp @a[tag=kyloFrozen,limit=1,sort=nearest] ~ ~ ~
execute as @a[scores={freezeDuration=1..}] run scoreboard players add @s freezeDuration 1
execute as @a[scores={freezeDuration=60..}] run kill @e[tag=freezetp]
execute as @a[scores={freezeDuration=60..}] run attribute @a[tag=kyloFrozen,limit=1] minecraft:gravity base reset
execute as @a[scores={freezeDuration=60..}] run attribute @a[tag=kyloFrozen,limit=1] minecraft:entity_interaction_range base reset
execute as @a[scores={freezeDuration=60..}] run attribute @a[tag=kyloFrozen,limit=1] minecraft:attack_speed base reset
execute as @a[scores={freezeDuration=60..}] run tag @a[tag=kyloFrozen,limit=1] remove kyloFrozen
execute as @a[scores={freezeDuration=60..}] run tag @a remove kyloFrozen
execute as @a[scores={freezeDuration=60..}] run scoreboard players set @s freezeDuration 0
execute as @a[scores={frezCooldown=480..}] run scoreboard players set @s frezCooldown 0

#show cooldown on actionbar
execute as @a[scores={frezCooldown=1..}] if items entity @s weapon *[custom_data~{freeze:true}] run scoreboard players operation @s secondsHelper = @s frezCooldown
execute as @a run scoreboard players operation @s secondsHelper /= $const20 secondsHelper
execute as @a[scores={frezCooldown=1..}] if items entity @s weapon *[custom_data~{freeze:true}] run title @s actionbar ["",{"score":{"name":"*","objective":"secondsHelper"},"color":"red"},{"text":"/24 seconds","color":"red"}]
execute as @a[scores={frezCooldown=0}] if items entity @s weapon *[custom_data~{freeze:true}] run title @s actionbar {"text":"Ready!","color":"green"}