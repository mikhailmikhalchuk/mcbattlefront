execute if entity @s[scores={defeated=2}] run clear @s
execute if entity @s[scores={defeated=2}] run give @s minecraft:bow[item_name={"color":"red","italic":false,"text":"SE-44"},tooltip_display={hidden_components:["unbreakable","enchantments"]},unbreakable={},enchantments={"minecraft:infinity":1}] 1
execute if entity @s[scores={defeated=2}] run give @s minecraft:carrot_on_a_stick[item_name={"color":"red","italic":false,"text":"Battle Command"},tooltip_display={hidden_components:["unbreakable"]},lore=[{"italic":false,"text":"Temporarily boosts the health and damage of nearby allies"}],unbreakable={},custom_data={bcom:true}] 1
execute if entity @s[scores={defeated=2}] run give @s minecraft:arrow[item_name={"color":"red","italic":false,"text":"Blaster Bolt"}] 1

#fo officer
execute if entity @s[scores={defeated=2},team=FO] run item replace entity @s armor.head with minecraft:player_head[item_name="Officer Cap",unbreakable={},profile={id:[I;492354484,1971604441,-2010997837,496491068],properties:[{name:"textures",value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNWFiY2Q2OTg1M2JhNzMzOTRkZDI3YmNjNDlhMjVkMzZlOTFkNGUyYmE4MWFiMTU2Y2NkNjk4NzBmYWRhNzlhZiJ9fX0="}]},enchantments={"minecraft:binding_curse":1},tooltip_display={hide_tooltip:true}] 1

#imperial officer
execute if entity @s[scores={defeated=2},team=EMP] run item replace entity @s armor.head with minecraft:player_head[item_name="Officer Cap",unbreakable={},profile={id:[I;492354484,1971604441,-2010997837,496491068],properties:[{name:"textures",value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNWFiY2Q2OTg1M2JhNzMzOTRkZDI3YmNjNDlhMjVkMzZlOTFkNGUyYmE4MWFiMTU2Y2NkNjk4NzBmYWRhNzlhZiJ9fX0="}]},enchantments={"minecraft:binding_curse":1},tooltip_display={hide_tooltip:true}] 1

#clone officer
execute if entity @s[scores={defeated=2},team=REP] run item replace entity @s armor.head with minecraft:player_head[item_name="Clone Officer Helmet",unbreakable={},profile={id:[I;-115439218,-1826796678,-1559837152,1961798209],properties:[{name:"textures",value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvMjhkNTRjOTU4NTM3Yzg1MWYyNjNlZGM1OTFlNWY0MGJjZjZhNzg1OGU4OWQzOWQ4ZGViMTRhMzRhZDQ1ZGZhYyJ9fX0="}]},enchantments={"minecraft:binding_curse":1},tooltip_display={hide_tooltip:true}] 1
execute if entity @s[scores={defeated=2},team=REP] run item replace entity @s armor.chest with minecraft:leather_chestplate[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=16383998,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1}] 1
execute if entity @s[scores={defeated=2},team=REP] run item replace entity @s armor.legs with minecraft:leather_leggings[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=16383998,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1}] 1
execute if entity @s[scores={defeated=2},team=REP] run item replace entity @s armor.feet with minecraft:leather_boots[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=16383998,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1}] 1

#battle droid officer
execute if entity @s[scores={defeated=2},team=CIS] run item replace entity @s armor.head with minecraft:player_head[item_name="Battle Droid Head",unbreakable={},profile={id:[I;-1881704273,2033666904,-2135594220,-486673924],properties:[{name:"textures",value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZTA5OWQyMmY3YmRhNzZlMjFhNzkzYzdlNDA4ODUzZjVkZTY5YTIwNDU1YTJjY2EyOTA2ZTJmZjljZjhlMTFhNSJ9fX0="}]},enchantments={"minecraft:binding_curse":1},tooltip_display={hide_tooltip:true}] 1
execute if entity @s[scores={defeated=2},team=CIS] run item replace entity @s armor.chest with minecraft:leather_chestplate[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=12296320,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1}] 11
execute if entity @s[scores={defeated=2},team=CIS] run item replace entity @s armor.legs with minecraft:leather_leggings[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=12296320,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1}] 1
execute if entity @s[scores={defeated=2},team=CIS] run item replace entity @s armor.feet with minecraft:leather_boots[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=12296320,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1}] 1

execute unless entity @s[scores={defeated=2}] run tellraw @s {"text":"Nice try...\nYou can only spawn in as a new class if you have been defeated!","color":"red"}
execute if score @s respawnTick < @s respawnTime unless entity @s[scores={defeated=0}] run tellraw @s {"text":"Nice try...\nYou must wait until the respawn timer has finished counting down!","color":"red"}
execute if entity @s[scores={defeated=2}] if score @s respawnTick >= @s respawnTime run function battlefront:classes/spawnplayer