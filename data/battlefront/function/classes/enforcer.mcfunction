execute if entity @s[scores={defeated=2}] run clear @s

#death trooper

execute if entity @s[scores={defeated=2},team=EMP] run item replace entity @s armor.head with minecraft:player_head[item_name="Death Trooper Helmet",unbreakable={},profile={id:[I;-90715765,-679982941,-1607850321,460207700],properties:[{name:"textures",value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYWM1ZTJhNzdjYjI2Y2YwZDVkYTEyYTI4YjNmMzFiMGYwNDliZDJjOTNiNGFmOWFkMzRlZGRiNjcxNzc0ZiJ9fX0="}]},enchantments={"minecraft:binding_curse":1},tooltip_display={hide_tooltip:true}] 1
execute if entity @s[scores={defeated=2},team=EMP] run item replace entity @s armor.chest with minecraft:leather_chestplate[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=1908001,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=EMP] run item replace entity @s armor.legs with minecraft:leather_leggings[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=1908001,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=EMP] run item replace entity @s armor.feet with minecraft:leather_boots[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=1908001,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=EMP] run give @s minecraft:crossbow[item_name={"color":"red","italic":false,"text":"E-11D blaster"},tooltip_display={hidden_components:["enchantments","unbreakable"]},unbreakable={},enchantments={"minecraft:quick_charge":2}] 1
execute if entity @s[scores={defeated=2},team=EMP] run give @s minecraft:lingering_potion[potion_contents={potion:"minecraft:luck",custom_color:1592447},custom_name={"color":"red","italic":false,"text":"Sonic Imploder"},tooltip_display={hidden_components:["potion_contents"]},lore=[{"italic":false,"text":"Launches a blinding pulse"}],custom_data={sonicimploder:true}] 1
execute if entity @s[scores={defeated=2},team=EMP] run give @s minecraft:arrow[item_name={"color":"red","italic":false,"text":"Blaster Bolt"}] 64

#wookiee warrior

execute if entity @s[scores={defeated=2},team=REB] run item replace entity @s armor.head with minecraft:player_head[item_name="Wookiee Head",unbreakable={},profile={id:[I;-1358258456,-1955969204,-1083161275,505351078],properties:[{name:"textures",value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvYjY5OTEyODc0YTI2ODdkNTAxYjI3OGQ3OTg1MTk5MzgyOTZiNjJkZTg3YmJlMTU2ZTZlNmIwOWZmNDczMzI5ZSJ9fX0="}]},enchantments={"minecraft:binding_curse":1},tooltip_display={hide_tooltip:true}] 1
execute if entity @s[scores={defeated=2},team=REB] run item replace entity @s armor.chest with minecraft:leather_chestplate[item_name={"color":"yellow","italic":false,"text":"Armor"},tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=REB] run item replace entity @s armor.legs with minecraft:leather_leggings[item_name={"color":"yellow","italic":false,"text":"Armor"},tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=REB] run item replace entity @s armor.feet with minecraft:leather_boots[item_name={"color":"yellow","italic":false,"text":"Armor"},tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=REB] run give @s minecraft:crossbow[item_name={"color":"red","italic":false,"text":"Bowcaster"},tooltip_display={hidden_components:["unbreakable"]},unbreakable={},custom_data={bowcast:true}] 1
execute if entity @s[scores={defeated=2},team=REB] run give @s minecraft:lingering_potion[potion_contents={potion:"minecraft:luck",custom_color:0},custom_name={"color":"red","italic":false,"text":"Thermal Imploder"},tooltip_display={hidden_components:["potion_contents"]},custom_data={imploder:true}] 1
execute if entity @s[scores={defeated=2},team=REB] run give @s minecraft:arrow[item_name={"color":"red","italic":false,"text":"Bowcaster Bolt"},custom_data={bowcasterbolt:true}] 64

#praetorian guard
execute if entity @s[scores={defeated=2},team=FO] run item replace entity @s armor.head with minecraft:player_head[item_name="Praetorian Guard Helmet",unbreakable={},profile={id:[I;1154760920,1181372274,-1235680490,538871679],properties:[{name:"textures",value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvNjhmNmUzOTU4MTJjNzMyYzA3NGJlYzdlN2I5NzU2YmE1MWUxMDE2Yjc4ZTZjNjE5MWUxZTJiMGE5NzAzN2JmOSJ9fX0="}]},enchantments={"minecraft:binding_curse":1},tooltip_display={hide_tooltip:true}] 1
execute if entity @s[scores={defeated=2},team=FO] run item replace entity @s armor.chest with minecraft:leather_chestplate[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=11546150,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=FO] run item replace entity @s armor.legs with minecraft:leather_leggings[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=11546150,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=FO] run item replace entity @s armor.feet with minecraft:leather_boots[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=11546150,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=FO] run item replace entity @s weapon.offhand with minecraft:shield[item_name={"color":"red","italic":false,"text":"Shield"},enchantments={"minecraft:feather_falling":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=FO] run give @s minecraft:fishing_rod[item_name={"color":"red","italic":false,"text":"Electro-chain whip"},tooltip_display={hidden_components:["enchantments","unbreakable"]},enchantments={"minecraft:feather_falling":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=FO] run give @s minecraft:golden_axe[item_name={"color":"red","italic":false,"text":"Vibro-arbir blade"},tooltip_display={hidden_components:["enchantments","unbreakable"]},enchantments={"minecraft:feather_falling":1},unbreakable={}] 1

#b2-rp droid
execute if entity @s[scores={defeated=2},team=CIS] run item replace entity @s armor.head with minecraft:player_head[item_name="B2 Super Battle Droid Head",tooltip_display={hidden_components:["enchantments","unbreakable"]},unbreakable={},profile={id:[I;-1313747275,1709130169,-1727420512,-965264263],properties:[{name:"textures",value:"ewogICJ0aW1lc3RhbXAiIDogMTYxMTY4OTA4MjU5MywKICAicHJvZmlsZUlkIiA6ICJiMWIxY2ViNTY1ZGY0MWI5OTkwOWE3YTBjNjc3M2M3OSIsCiAgInByb2ZpbGVOYW1lIiA6ICJNaWtoYWlsTUNyYWZ0IiwKICAidGV4dHVyZXMiIDogewogICAgIlNLSU4iIDogewogICAgICAidXJsIiA6ICJodHRwOi8vdGV4dHVyZXMubWluZWNyYWZ0Lm5ldC90ZXh0dXJlLzgwMDNlZWU1MTMxNWUwNWFmMjI2MjBjZDQxOTg0YzFhNmYwZDYzMmZlNDQ2ODJlODFlMjhiZGZlYzM0MWJjNzgiCiAgICB9CiAgfQp9"}]},enchantments={"minecraft:binding_curse":1}] 1
execute if entity @s[scores={defeated=2},team=CIS] run item replace entity @s armor.chest with minecraft:leather_chestplate[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=7567221,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=CIS] run item replace entity @s armor.legs with minecraft:leather_leggings[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=7567221,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=CIS] run item replace entity @s armor.feet with minecraft:leather_boots[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=7567221,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=CIS] run give @s minecraft:bow[item_name={"color":"red","italic":false,"text":"Twin Wrist-Blaster"},tooltip_display={hidden_components:["enchantments","unbreakable"]},unbreakable={},enchantments={"minecraft:infinity":1}] 1
execute if entity @s[scores={defeated=2},team=CIS] run give @s minecraft:carrot_on_a_stick[item_name={"color":"red","italic":false,"text":"Wrist Rocket"},tooltip_display={hidden_components:["unbreakable"]},unbreakable={},custom_data={wristrocket:true}] 1
execute if entity @s[scores={defeated=2},team=CIS] run give @s minecraft:arrow[item_name={"color":"red","italic":false,"text":"Blaster Bolt"}] 1

#clone commando
execute if entity @s[scores={defeated=2},team=REP] run item replace entity @s armor.head with minecraft:player_head[item_name="Clone Commando Helmet",unbreakable={},profile={id:[I;-673333705,1945128843,-1428971264,449723011],properties:[{name:"textures",value:"eyJ0ZXh0dXJlcyI6eyJTS0lOIjp7InVybCI6Imh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZTM5NjhmOTMwYmVmYTEzODc5ZjQ5MWM4OWNkOGYwZDc2ODFiYWJiNDZlNzQ1ZWZkODE1NzJlMmE3NDA2YTVjMCJ9fX0="}]},enchantments={"minecraft:binding_curse":1},tooltip_display={hide_tooltip:true}] 1
execute if entity @s[scores={defeated=2},team=REP] run item replace entity @s armor.chest with minecraft:leather_chestplate[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=16383998,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=REP] run item replace entity @s armor.legs with minecraft:leather_leggings[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=16383998,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=REP] run item replace entity @s armor.feet with minecraft:leather_boots[item_name={"color":"yellow","italic":false,"text":"Armor"},dyed_color=16383998,tooltip_display={hide_tooltip:true},enchantments={"minecraft:binding_curse":1},unbreakable={}] 1
execute if entity @s[scores={defeated=2},team=REP] run give @s minecraft:carrot_on_a_stick[item_name={"color":"red","italic":false,"text":"DC-17m repeating blaster rifle"},tooltip_display={hidden_components:["unbreakable"]},unbreakable={},custom_data={repeater:true}] 1
execute if entity @s[scores={defeated=2},team=REP] run give @s minecraft:carrot_on_a_stick[item_name={"color":"red","italic":false,"text":"Battle Focus"},tooltip_display={hidden_components:["unbreakable"]},lore=[{"italic":false,"text":"Reduces the damage you and nearby allies take"},{"italic":false,"text":"While active, grants health on kills"}],unbreakable={},custom_data={battlefocus:true}] 1

execute if entity @s[scores={defeated=2}] run give @s minecraft:carrot_on_a_stick[item_name={"color":"red","italic":false,"text":"Fortify"},lore=[{"italic":false,"text":"Temporarily boosts the Enforcer's health"}],tooltip_display={hidden_components:["unbreakable"]},unbreakable={},custom_data={fortify:true}] 1
execute unless entity @s[scores={defeated=2}] run tellraw @s {"text":"Nice try...\nYou can only spawn in as a new class if you have been defeated!","color":"red"}
execute if score @s respawnTick < @s respawnTime unless entity @s[scores={defeated=0}] run tellraw @s {"text":"Nice try...\nYou must wait until the respawn timer has finished counting down!","color":"red"}
execute if entity @s[scores={defeated=2}] if score @s respawnTick >= @s respawnTime run function battlefront:classes/spawnplayer